<div class="row-fluid">
	<div class="span12">
		<h2>Create a new Machine</h2>
		<hr/>
	</div>

	<div class="span10">
		<div class="alert alert-info">
			Create a <strong>{{selectedPackage.name}}</strong>
			machine <strong>{{selectedDataset.name && 'with ' + selectedDataset.name}}</strong>
			called: <input class='input-large' style='margin-left: 8px;' type=text ng-model='name' autofocus>
		</div>
	</div>

	<button class='btn btn-success pull-right' ng-show='name && selectedDataset && selectedPackage' ng-click='create_machine()'>Create!</button>

	<div class="span5">
		<div class="thumbnail">
			<!--<div class="caption">
				<h5>Select a dataset:</h5>
			</div>-->
			<table class="table table-hover small">
				<tr class='small'>
					<th></th>
					<th>Image name</th>
					<th>Version</th>
				</tr>
				<tr class='clickable'  
					ng-repeat="d in dataset | sorderBy: ['name','-version']" 
					ng-click='click_dataset(d)' 
					ng-class="selectedDataset.dataset==d.dataset && 'success'">

					<td><img ng-src="images/logos/{{d.name.split('-')[0]}}.png" style='max-width: 100px; max-height: 24px' /></td>
					<td><strong>{{d.name}}</strong></td>
					<td>{{d.version}}</td>
				</tr>
			</table>

		</div>
	</div>
	<div class="span5">
		<div class="thumbnail">
			<table class="table table-hover small">
				<tr class='small'>
					<th></th>
					<th>CPU</th>
					<th>Memory</th>
					<th>Disk</th>
				</tr>
				<tr class='clickable' ng-repeat='p in packages' ng-click='click_package(p)' ng-class="selectedPackage.name==p.name && 'success'">
					<td><strong>{{p.name}}</strong></td>
					<td>{{p.cpu_cap}}</td>
					<td>{{p.ram}}MB</td>
					<td>{{p.quota}}GB</td>
				</tr>
			</table>
		</div>
	</div>

	<div class="span5">
		<div class="thumbnail">
			<table class="table table-hover small">
				<tr class='small'>
					<th></th>
					<th>Network</th>
					<th>Next avail IP</th>
				</tr>
				<tr class='clickable' ng-repeat='n in networks' ng-click='click_network(n)' ng-class="selectedNetworks.indexOf(n)>-1 && 'success'">
					<td><strong>{{n.name}}</strong></td>
					<td>{{n.network}} / {{n.netmask}}</td>
					<td>{{n.current}}</td>
				</tr>
			</table>
		</div>
	</div>
</div>
